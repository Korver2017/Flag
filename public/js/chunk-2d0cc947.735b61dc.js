(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc947"],{"4f10":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("hr"),o("h1",[e._v(e._s(e.orgName))]),o("div",{staticClass:"row col-6 mx-auto my-4"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.projectName,expression:"projectName",modifiers:{trim:!0}}],staticClass:"form-control col-8",attrs:{type:"text",placeholder:"New project","aria-describedby":"button-addon2"},domProps:{value:e.projectName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newProject(t)},input:function(t){t.target.composing||(e.projectName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),o("button",{staticClass:"btn btn-success",on:{click:e.newProject}},[e._v("New Project")])]),e._l(e.projects,function(t){return o("div",{staticClass:"list-group-flush"},[o("router-link",{staticClass:"py-4 text-left list-group-item list-group-item-action",attrs:{to:{name:"project",params:{proId:t.proId}},tag:"button","active-class":"active"}},[o("h5",[e._v(e._s(t.name))])])],1)})],2)},n=[],a=(o("7514"),o("bf48")),c=o.n(a),s={name:"organization",data:function(){return{orgName:"",projectName:"",projects:[]}},computed:{orgId:function(){return this.$route.params.orgId}},created:function(){},mounted:function(){this.showProject(),this.showOrgName()},methods:{showOrgName:function(){var e=this,t=e.$route.params.orgId,o=c.a.Object.extend("Organization"),r=new c.a.Query(o);r.get(t).then(function(t){var o=t.get("name");e.orgName=o})},showProject:function(){var e=this,t=c.a.Object.extend("Project"),o=new c.a.Query(t);o.equalTo("orgId",e.orgId);var r=[];o.find().then(function(t){for(var o=0;o<t.length;o++){var n={},a=t[o];n.name=a.get("name"),n.proId=a.id,r.push(n)}e.projects=r})},newProject:function(){var e=this,t=c.a.Object.extend("Project"),o=c.a.Object.extend("Organization"),r=(new o,new t);r.set("name",e.projectName),r.set("orgId",[e.orgId]),r.save().then(function(t){e.projects.push(e.projectName),e.showProject()},function(e){alert("Failed to create new object, with error code: "+e.message)}),e.projectName=""}},watch:{orgId:function(){this.showOrgName(),this.showProject()}}},i=s,u=o("2877"),d=Object(u["a"])(i,r,n,!1,null,"e25fe594",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0cc947.735b61dc.js.map