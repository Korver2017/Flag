(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc947"],{"4f10":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container mt-4"},[a("h1",[e._v(e._s(e.orgName))]),a("div",{staticClass:"row col-6 mx-auto my-5"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.projectName,expression:"projectName",modifiers:{trim:!0}}],staticClass:"form-control col-8",attrs:{type:"text",placeholder:"New Project","aria-describedby":"button-addon2"},domProps:{value:e.projectName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newProject(t)},input:function(t){t.target.composing||(e.projectName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),a("button",{staticClass:"btn btn-success",on:{click:e.newProject}},[e._v("New Project")])]),e._l(e.projects,function(t){return a("div",{staticClass:"list-group-flush"},[a("router-link",{staticClass:"py-3 text-left list-group-item list-group-item-action",attrs:{to:{name:"project",params:{proId:t.proId,orgId:e.orgId}},tag:"button","active-class":"active"}},[a("h5",[e._v(e._s(t.name))])])],1)})],2)},o=[],n=(a("7514"),a("bf48")),c=a.n(n),s={name:"organization",data:function(){return{orgName:"",projectName:"",projects:[],defaultLabels:[]}},components:{},computed:{orgId:function(){return this.$route.params.orgId}},created:function(){var e=this,t=[],a=c.a.Object.extend("Label"),r=new c.a.Query(a);r.equalTo("proId","default"),r.find().then(function(e){for(var a=0;a<e.length;a++){var r={},o=e[a];r.title=o.get("title"),r.labelDesc=o.get("labelDesc"),t.push(r)}}),e.defaultLabels=t},mounted:function(){this.showProject(),this.showOrgName()},methods:{showOrgName:function(){var e=this,t=e.$route.params.orgId,a=c.a.Object.extend("Organization"),r=new c.a.Query(a);r.get(t).then(function(t){var a=t.get("name");e.orgName=a})},showProject:function(){var e=this,t=c.a.Object.extend("Project"),a=new c.a.Query(t);a.equalTo("orgId",e.orgId);var r=[];a.find().then(function(t){for(var a=0;a<t.length;a++){var o={},n=t[a];o.name=n.get("name"),o.proId=n.id,r.push(o)}e.projects=r})},newProject:function(){var e=this,t=c.a.Object.extend("Project"),a=new t;a.set("name",e.projectName),a.set("orgId",e.orgId),a.set("orgName",e.orgName),a.save().then(function(t){e.showProject();for(var a=t.id,r=c.a.Object.extend("Label"),o=e.defaultLabels.length,n=0;n<o;n++){var s=new r,i=e.defaultLabels[n];s.set("title",i.title),s.set("labelDesc",i.labelDesc),s.set("proId",a),s.save()}},function(e){alert("Failed to create new object, with error code: "+e.message)}),e.projectName=""}},watch:{}},i=s,l=a("2877"),u=Object(l["a"])(i,r,o,!1,null,"1441929c",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0cc947.31c39cb6.js.map