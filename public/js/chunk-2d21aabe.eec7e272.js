(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aabe"],{bd06:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"mt-5 col-8 mx-auto"},[t._m(0),a("div",{staticClass:"border-light-theme"},[a("div",[a("form",[a("div",{staticClass:"col-8 form-group mx-auto mt-5"},[a("div",{staticClass:"row d-flex align-items-center justify-content-center"},[a("label",{staticClass:"d-flex align-items-center mr-3 mb-0",attrs:{for:"name"}},[t._v("組織名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgName,expression:"orgName"}],staticClass:"col-8 form-control",attrs:{type:"text",id:"name"},domProps:{value:t.orgName},on:{input:function(e){e.target.composing||(t.orgName=e.target.value)}}})]),a("small",{staticClass:"form-text text-muted"},[t._v("Organization names should be short and memorable.")])])])]),a("div",{staticClass:"my-5"},[a("button",{staticClass:"mx-2 btn btn-success",on:{click:t.addOrganization}},[t._v("建立組織")]),a("button",{staticClass:"mx-2 btn btn-secondary",on:{click:function(t){}}},[t._v("取消")])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-3 d-flex justify-content-center align-items-center bg-light-theme  border-light-theme border-bottom-0"},[a("h4",{staticClass:"mb-0"},[t._v("新增組織")])])}],r=(a("7514"),a("bf48")),o=a.n(r),i={name:"add-organization",data:function(){return{orgName:"",orgs:""}},computed:{user:function(){return{authed:this.$store.state.user.authed,userId:this.$store.state.user.userId,avatarHash:this.$store.state.user.avatarHash,username:this.$store.state.user.username}}},methods:{getNewOrg:function(){var t=this,e=o.a.Object.extend("Organization"),a=new o.a.Query(e),s=[];a.equalTo("memberId",t.user.userId),a.find().then(function(a){for(var n=function(t){var n={},r=a[t],i=new o.a.Query(e);n.orgId=r.id,i.get(r.id).then(function(t){n.name=t.get("name"),s.push(n)})},r=0;r<a.length;r++)n(r);t.orgs=s,console.log(s)}).then(function(e){console.log(t.orgs),t.$router.push({name:"dashboard"})})},addOrganization:function(){var t=this;if(""!==t.orgName){var e=o.a.Object.extend("Organization"),a=new e;a.set("name",t.orgName),a.set("memberId",[t.user.userId]),a.save().then(function(e){t.getNewOrg(),t.orgName=""},function(t){})}else alert("組織名稱不可空白")}}},u=i,c=a("2877"),m=Object(c["a"])(u,s,n,!1,null,"263b3949",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d21aabe.eec7e272.js.map