{"version":3,"sources":["webpack:///./src/views/dashboard.vue?addf","webpack:///src/views/dashboard.vue","webpack:///./src/views/dashboard.vue?92ef","webpack:///./src/views/dashboard.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","user","avatarHash","length","staticClass","attrs","src","alt","_e","_v","_s","username","orgs","_l","org","key","id","to","name","params","orgId","tag","active-class","for","on","keyup","$event","type","indexOf","_k","keyCode","addOrganization","directives","rawName","value","expression","modifiers","trim","placeholder","domProps","input","target","composing","orgName","blur","$forceUpdate","click","preventDefault","staticRenderFns","dashboardvue_type_script_lang_js_","components","data","created","$store","state","authed","$router","push","path","computed","email","userId","mounted","showOrg","showUsername","methods","$vmc","Org","parse_default","a","Object","extend","query","Query","ary","equalTo","find","then","resp","_loop","i","obj","object","get","Account","$md5","logOut","dispatch","set","save","error","alert","message","watch","views_dashboardvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0c14f9.07c068f7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user.authed)?[(_vm.avatarHash.length > 0)?_c('img',{staticClass:\"rounded-circle mt-5\",attrs:{\"src\":'https://www.gravatar.com/avatar/' + _vm.avatarHash,\"alt\":\"\"}}):_vm._e(),_c('h2',{staticClass:\"nav-item nav-link align-right\"},[_vm._v(\"Hi, \"+_vm._s(_vm.username)+\"!\")]),_c('h5',[_vm._v(\"Welcome to Flag\")]),_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[(_vm.orgs.length !== 0)?_c('div',{staticClass:\"col-8 mx-auto\"},[_c('h5',{staticClass:\"text-left\"},[_vm._v(\"My Organization\")]),_c('div',{staticClass:\"row\"},_vm._l((_vm.orgs),function(org){return _c('router-link',{key:org.id,staticClass:\"col-4 list-group-item list-group-item-action btn btn-success\",attrs:{\"to\":{ name: 'organization', params: { orgId: org.orgId }},\"tag\":\"button\",\"active-class\":\"active\"}},[_vm._v(\"\\n              \"+_vm._s(org.name)+\"\\n            \")])}),1)]):_vm._e(),_c('form',{staticClass:\"col-4 mx-auto\"},[_c('div',{staticClass:\"form-group text-left\"},[_c('label',{attrs:{\"for\":\"name\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addOrganization($event)}}},[_vm._v(\"Add organization\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.orgName),expression:\"orgName\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Organization name\",\"id\":\"name\"},domProps:{\"value\":(_vm.orgName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.orgName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('button',{staticClass:\"mx-3 btn btn-success\",on:{\"click\":function($event){$event.preventDefault();return _vm.addOrganization($event)}}},[_vm._v(\"Add organization\")])])])])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n\r\n    <template v-if=\"user.authed\">\r\n      \r\n      <img v-if=\"avatarHash.length > 0\" class=\"rounded-circle mt-5\" :src=\"'https://www.gravatar.com/avatar/' + avatarHash\" alt=\"\">\r\n      <h2 class=\"nav-item nav-link align-right\">Hi, {{ username }}!</h2>\r\n      <h5>Welcome to Flag</h5>\r\n\r\n      <div class=\"container my-5\">\r\n        <div class=\"row\">\r\n          <div v-if=\"orgs.length !== 0\" class=\"col-8 mx-auto\">\r\n            <h5 class=\"text-left\">My Organization</h5>\r\n              <div class=\"row\">\r\n              <router-link v-for=\"org in orgs\" :key=\"org.id\" :to=\"{ name: 'organization', params: { orgId: org.orgId }}\" tag=\"button\" class=\"col-4 list-group-item list-group-item-action btn btn-success\" active-class=\"active\">\r\n                {{ org.name }}\r\n              </router-link>\r\n              </div>\r\n          </div>\r\n\r\n          <form class=\"col-4 mx-auto\">\r\n            <div class=\"form-group text-left\">\r\n              <label @keyup.enter=\"addOrganization\" for=\"name\">Add organization</label>\r\n              <input v-model.trim=\"orgName\" class=\"form-control\" placeholder=\"Organization name\" id=\"name\">\r\n            </div>\r\n            <button @click.prevent=\"addOrganization\" class=\"mx-3 btn btn-success\">Add organization</button>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    \r\n    </template>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n  // Import\r\n  import Parse from \"parse\";\r\n\r\n\r\n  export default {\r\n\r\n\r\n    name: 'dashboard',\r\n\r\n\r\n    /**\r\n     *\r\n     * Inner components\r\n     *\r\n     */\r\n    components: {\r\n    },\r\n\r\n\r\n    data () {\r\n      return {\r\n        username: '',\r\n        orgName: '',\r\n        orgs: [],\r\n        avatarHash: '',\r\n      }\r\n    },\r\n\r\n\r\n    created () {\r\n\r\n\r\n      if (this.$store.state.user.authed === false) {\r\n        this.$router.push ({ path: '/signin' })\r\n      }\r\n    },\r\n\r\n\r\n     /**\r\n     *\r\n     * Computed\r\n     *\r\n     */\r\n    computed: {\r\n      user () {\r\n        return {\r\n          authed: this.$store.state.user.authed,\r\n          email: this.$store.state.user.input.email,\r\n          id: this.$store.state.user.input.userId\r\n        }\r\n      },\r\n      \r\n    },\r\n\r\n\r\n    mounted () {\r\n      this.showOrg ();\r\n      this.showUsername ();\r\n    },\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * Methods\r\n     *\r\n     */\r\n    methods: {\r\n\r\n\r\n      /**\r\n       *\r\n       * Display Organization\r\n       *\r\n       */\r\n      showOrg () {\r\n        let $vmc = this;\r\n        let Org = Parse.Object.extend ('Organization');\r\n        let query = new Parse.Query (Org);\r\n        let ary = [];\r\n        query.equalTo ('memberId', $vmc.user.id);\r\n        query.find ()\r\n          .then (resp => {\r\n            for (let i = 0; i < resp.length; i ++) {\r\n              let obj = {};\r\n              let object = resp[i];\r\n              let query = new Parse.Query (Org);\r\n              obj.orgId = object.id;\r\n              query.get (object.id)\r\n                .then (resp => {\r\n                  obj.name = resp.get ('name');\r\n                  ary.push (obj);\r\n                });\r\n            }\r\n\r\n            $vmc.orgs = ary;\r\n          })\r\n      },\r\n\r\n\r\n      /**\r\n       *\r\n       * Display Username\r\n       *\r\n       */\r\n      showUsername () {\r\n        let $vmc = this;\r\n        let ary = [];\r\n        const Account = Parse.Object.extend (\"Account\");\r\n        let query = new Parse.Query (Account);\r\n        query.get ($vmc.user.id)\r\n          .then (resp => {\r\n            $vmc.avatarHash = $vmc.$md5 (resp.get ('email'));\r\n            $vmc.username = resp.get ('username');\r\n        });\r\n      },\r\n\r\n\r\n      logOut () {\r\n        let $vmc = this;\r\n        $vmc.$store.dispatch ('user/logOut');\r\n        $vmc.$router.push ({ path: '/signin' })\r\n      },\r\n\r\n\r\n      addOrganization () {\r\n        let $vmc = this;\r\n\r\n        if ($vmc.orgName === '') {\r\n          alert ('組織名稱不可空白');\r\n          return;\r\n        }\r\n        \r\n        let Org = Parse.Object.extend ('Organization')\r\n          , org = new Org ();\r\n\r\n        org.set ('name', $vmc.orgName);\r\n        org.set ('memberId', [$vmc.$store.state.user.input.userId]);\r\n\r\n        org.save ()\r\n          .then(resp => {\r\n            // Execute any logic that should take place after the object is saved.\r\n            $vmc.orgName = '';\r\n            $vmc.showOrg ();\r\n          }, (error) => {\r\n            // Execute any logic that should take place if the save fails.\r\n            // error is a Parse.Error with an error code and message.\r\n            alert('Failed to create new object, with error code: ' + error.message);\r\n          });\r\n      }\r\n    },\r\n\r\n\r\n    watch: {\r\n      user () {\r\n        this.showOrg ();\r\n        this.showUsername ();\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dashboard.vue?vue&type=template&id=24f22dc4&scoped=true&\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24f22dc4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}