(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aabe"],{bd06:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"mt-5 col-8 mx-auto"},[t._m(0),a("div",{staticClass:"border-light-theme"},[a("div",[a("form",[a("div",{staticClass:"col-8 form-group mx-auto mt-5"},[a("div",{staticClass:"row d-flex align-items-center justify-content-center"},[a("label",{staticClass:"d-flex align-items-center mr-3 mb-0",attrs:{for:"name"}},[t._v("組織名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orgName,expression:"orgName"}],staticClass:"col-8 form-control",attrs:{type:"text",id:"name"},domProps:{value:t.orgName},on:{input:function(e){e.target.composing||(t.orgName=e.target.value)}}})]),a("small",{staticClass:"form-text text-muted"},[t._v("Organization names should be short and memorable.")])])])]),a("div",{staticClass:"my-4 text-center"},[a("button",{staticClass:"mx-2 btn btn-success",on:{click:t.addOrganization}},[t._v("建立組織")]),a("button",{staticClass:"mx-2 btn btn-secondary",on:{click:t.cancelAdding}},[t._v("取消")])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-3 d-flex justify-content-center align-items-center bg-light-theme  border-light-theme border-bottom-0"},[a("h4",{staticClass:"mb-0"},[t._v("新增組織")])])}],r=(a("7514"),a("bf48")),o=a.n(r),i={name:"add-organization",data:function(){return{orgName:"",orgs:""}},computed:{user:function(){return{authed:this.$store.state.user.authed,userId:this.$store.state.user.userId,avatarHash:this.$store.state.user.avatarHash,username:this.$store.state.user.username}}},methods:{getNewOrg:function(){var t=this,e=o.a.Object.extend("Organization"),a=new o.a.Query(e),n=[];a.equalTo("memberId",t.user.userId),a.find().then(function(a){for(var s=function(t){var s={},r=a[t],i=new o.a.Query(e);s.orgId=r.id,i.get(r.id).then(function(t){s.name=t.get("name"),n.push(s)})},r=0;r<a.length;r++)s(r);t.orgs=n}).then(function(e){t.$router.push({name:"dashboard"})})},cancelAdding:function(){var t=this;t.orgName="",t.$router.push({name:"dashboard"})},addOrganization:function(){var t=this;if(""!==t.orgName){var e=o.a.Object.extend("Organization"),a=new e;a.set("name",t.orgName),a.addUnique("memberId",t.user.userId),a.save().then(function(e){t.getNewOrg(),t.orgName=""},function(t){})}else alert("組織名稱不可空白")}}},u=i,c=a("2877"),d=Object(c["a"])(u,n,s,!1,null,"3548a0eb",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21aabe.2afe3e32.js.map