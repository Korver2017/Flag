(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c5af8"],{"3fc2":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"my-3",attrs:{id:"wrap"}},[e("div",{staticClass:"row my-4"},[e("div",{staticClass:"mb-0 d-flex align-items-center"},[e("h4",{staticClass:"text-left"},[e("router-link",{attrs:{to:{name:"organization"},tag:"a","active-class":"active"}},[e("a",[a._v(a._s(a.orgName))])]),a._v("\n            / "),e("router-link",{attrs:{to:{name:"project"},tag:"a","active-class":"active"}},[e("a",[a._v(a._s(a.proName))])])],1)]),a._m(0)]),e("ul",{staticClass:"nav nav-tabs"},[a._m(1),e("router-link",{staticClass:"nav-item",attrs:{to:{name:"project"},tag:"li","active-class":"active"}},[e("a",{staticClass:"nav-link active"},[a._v("問題 "),e("span",{staticClass:"ml-2 badge badge-secondary"},[a._v("123")])])]),a._m(2),a._m(3),a._m(4),a._m(5),a._m(6)],1),e("div",{staticClass:"row my-4 d-flex justify-content-between"},[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{name:"label-list",params:{proId:a.proId}},tag:"button","active-class":"active"}},[a._v("\n            標籤\n          ")]),e("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{name:"milestone",params:{proId:a.proId}},tag:"button","active-class":"active"}},[a._v("\n            里程碑\n          ")])],1),!1===a.addingLabel?e("div",[e("button",{staticClass:"btn btn-success h-100",on:{click:function(t){a.addingLabel=!0}}},[a._v("建立標籤")])]):e("div",{staticClass:"rounded my-3 p-3 input-group border border-secondary"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.labelName,expression:"labelName"}],staticClass:"col-3 mr-5 form-control p-2",attrs:{type:"text",placeholder:"標籤名稱","aria-label":"example"},domProps:{value:a.labelName},on:{input:function(t){t.target.composing||(a.labelName=t.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.labelDesc,expression:"labelDesc"}],staticClass:"col-4 form-control p-2",attrs:{type:"text",placeholder:"描述","aria-label":"example"},domProps:{value:a.labelDesc},on:{input:function(t){t.target.composing||(a.labelDesc=t.target.value)}}}),e("button",{staticClass:"ml-auto btn btn-outline-primary mr-3",on:{click:a.cancelAddLabel}},[a._v("取消")]),e("button",{staticClass:"btn btn-success",on:{click:a.newLabel}},[a._v("建立標籤")])])]),e("ul",{staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"row d-flex align-items-center"},[e("h4",{staticClass:"col-2 text-left mb-0"},[e("span",{staticClass:"p-2 badge badge-dark"},[a._v(a._s(a.labels.length)+"個標籤")])]),e("div",{staticClass:"ml-auto mr-4"},[a._v("排序")])])]),a._l(a.labels,function(t,s){return e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"row d-flex align-items-center"},[e("h4",{staticClass:"col-2 text-left mb-0"},[e("span",{staticClass:"p-2 badge badge-dark"},[a._v(a._s(t.title))])]),e("div",{staticClass:"ml-5"},[a._v("\n              "+a._s(t.labelDesc)+"\n            ")]),e("div",{staticClass:"ml-auto mr-5"},[a._v("0 個開啟的問題")]),e("div",[e("button",{staticClass:"mr-3 btn btn-success",on:{click:function(t){a.editingLabel(s)}}},[a._v("編輯")]),e("modal",{attrs:{width:"800",height:"auto",name:"modal"+s}},[e("h5",{staticClass:"p-3 font-weight-bold"},[a._v("編輯標籤")]),e("hr"),e("div",{staticClass:"ml-3 row"},[e("div",{staticClass:"col-3 input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.labels[s].newLabelName,expression:"labels[index].newLabelName"}],staticClass:"form-control",attrs:{type:"text","aria-label":"example"},domProps:{value:a.labels[s].newLabelName},on:{input:function(t){t.target.composing||a.$set(a.labels[s],"newLabelName",t.target.value)}}})]),e("div",{staticClass:"col-6 input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.labels[s].newLabelDesc,expression:"labels[index].newLabelDesc"}],staticClass:"form-control",attrs:{type:"text","aria-label":"example",placeholder:"描述"},domProps:{value:a.labels[s].newLabelDesc},on:{input:function(t){t.target.composing||a.$set(a.labels[s],"newLabelDesc",t.target.value)}}})])]),e("hr"),e("div",{staticClass:"mb-3 text-right"},[e("button",{staticClass:"mr-3 btn btn-danger",on:{click:function(t){a.cancelUpdateLabel(s)}}},[a._v("取消操作")]),e("button",{staticClass:"mr-3 btn btn-success",on:{click:function(t){a.updateLabel(s)}}},[a._v("更新")])])]),e("button",{staticClass:"mr-3 btn btn-danger",on:{click:function(t){a.deleteLabel(s)}}},[a._v("刪除")])],1)])])})],2)])},l=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"ml-auto"},[e("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),a._v(" 取消關注\n            ")]),e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),a._v(" 8\n            ")])]),e("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),a._v(" 收藏\n            ")]),e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),a._v(" 0\n            ")])]),e("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),a._v(" 複製\n            ")]),e("label",{staticClass:"border border-dark btn"},[e("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),a._v(" 0\n            ")])])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("程式碼")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("合併請求"),e("span",{staticClass:"ml-2 badge badge-secondary"},[a._v("0")])])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("版本發佈"),e("span",{staticClass:"ml-2 badge badge-secondary"},[a._v("0")])])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("Wiki")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("活動")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("li",{staticClass:"ml-auto nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[a._v("儲存庫設定")])])}],n=(e("7514"),e("bf48")),i=e.n(n),o={name:"label-list",data:function(){return{orgName:"",proName:"",labels:[],addingLabel:!1,labelName:"",labelDesc:"",newLabelName:"",newLabelDesc:""}},computed:{proId:function(){return this.$route.params.proId},issueId:function(){return this.$route.params.issueId},issues:function(){return"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}},mounted:function(){var a=this;a.showRouteName(),a.showLabel()},methods:{show:function(a){this.$modal.show("modal"+a)},hide:function(a){this.$modal.hide("modal"+a)},showRouteName:function(){var a=this,t=i.a.Object.extend("Project"),e=new i.a.Query(t);e.get(a.proId).then(function(t){a.orgName=t.get("orgName"),a.proName=t.get("name")},function(a){})},showLabel:function(){var a=this,t=i.a.Object.extend("Label"),e=new i.a.Query(t),s=[];e.equalTo("proId",a.proId),e.find().then(function(a){for(var t=0;t<a.length;t++){var e={},l=a[t];e.labelId=l.id,e.title=l.get("title"),e.labelDesc=l.get("labelDesc"),e.editingLabel=!1,e.newLabelName="",e.newLabelDesc="",s.push(e)}}),a.labels=s},newLabel:function(){var a=this,t=i.a.Object.extend("Label"),e=new t;e.set("title",a.labelName),e.set("labelDesc",a.labelDesc),e.set("proId",a.proId),e.save().then(function(t){a.showLabel(),a.cancelAddLabel()},function(a){alert("Failed to create new object, with error code: "+a.message)})},cancelAddLabel:function(){var a=this;a.labelName="",a.labelDesc="",a.addingLabel=!1},editingLabel:function(a){var t=this;t.labels[a];t.labels[a].newLabelName=t.labels[a].title,t.show(a)},updateLabel:function(a){var t=this,e=t.labels[a].labelId,s=i.a.Object.extend("Label"),l=new i.a.Query(s);l.get(e).then(function(e){e.set("title",t.labels[a].newLabelName),e.set("labelDesc",t.labels[a].newLabelDesc),e.save().then(function(a){t.showLabel()})},function(a){})},cancelUpdateLabel:function(a){var t=this;t.newLabelName="",t.newLabelDesc="",t.labels[a].editingLabel=!1,t.hide(a)},deleteLabel:function(a){var t=this,e=t.labels[a].labelId,s=i.a.Object.extend("Label"),l=new i.a.Query(s);l.get(e).then(function(a){confirm("確定要刪除這個 Label 嗎？")&&a.destroy().then(function(a){t.showLabel()},function(a){})})}}},r=o,c=e("2877"),b=Object(c["a"])(r,s,l,!1,null,"9489ce52",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c5af8.63777adc.js.map