(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216ed9"],{c50a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"mt-5 col-8 mx-auto"},[e._m(0),a("div",{staticClass:"border-light-theme"},[e.orgs.length>0?a("form",[a("div",{staticClass:"col-8 form-group mx-auto mt-5"},[a("div",{staticClass:"row d-flex align-items-center justify-content-end"},[e._m(1),a("div",{staticClass:"col-8 input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"custom-select",attrs:{id:"inputGroupSelect01"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:e.user.username}},[e._v(e._s(e.user.username))]),e._l(e.orgs,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t.orgName))])})],2)])]),a("div",{staticClass:"row d-flex align-items-center justify-content-end"},[e._m(2),a("div",{staticClass:"col-8 input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.projectName,expression:"projectName"}],staticClass:"form-control",attrs:{type:"text",id:"repo"},domProps:{value:e.projectName},on:{input:function(t){t.target.composing||(e.projectName=t.target.value)}}})]),a("small",{staticClass:"form-text text-muted d-flex justify-content-end"},[e._v("好的儲存庫名稱通常是簡短的、好記的、且獨特的。")])])])]):e._e()]),a("div",{staticClass:"my-5 text-center"},[a("button",{staticClass:"mx-2 btn btn-success",on:{click:function(t){return t.preventDefault(),e.addProject(t)}}},[e._v("建立儲存庫")]),a("button",{staticClass:"mx-2 btn btn-secondary",on:{click:function(t){return t.preventDefault(),e.cancelAdding(t)}}},[e._v("取消")])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"py-3 d-flex justify-content-center align-items-center bg-light-theme  border-light-theme border-bottom-0"},[a("h4",{staticClass:"mb-0"},[e._v("新增儲存庫")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{attrs:{for:"name"}},[e._v("擁有者")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{attrs:{for:"name"}},[e._v("儲存庫名稱")])])}],n=(a("7514"),a("bf48")),o=a.n(n),c={name:"add-project",data:function(){return{orgs:"",projectName:"",selected:""}},computed:{user:function(){return{authed:this.$store.state.user.authed,userId:this.$store.state.user.userId,avatarHash:this.$store.state.user.avatarHash,username:this.$store.state.user.username}}},created:function(){this.showAllOrg()},methods:{cancelAdding:function(){var e=this;e.projectName="",e.selected="",e.$router.push("/dashboard")},addProject:function(){var e=this,t=o.a.Object.extend("Project"),a=new t;a.set("orgName",e.selected.orgName),a.set("orgId",e.selected.orgId),a.set("name",e.projectName),a.save().then(function(t){e.projectName="",e.selected="",e.$router.push("/dashboard")})},showAllOrg:function(){var e=this,t=o.a.Object.extend("Organization"),a=new o.a.Query(t),s=[];a.notEqualTo("name",""),a.find().then(function(a){for(var r=function(r){var n={},c=new o.a.Query(t),i=a[r];c.get(i.id).then(function(e){n.orgId=i.id,n.orgName=e.get("name"),s.push(n)}).then(function(t){e.orgs=s})},n=0;n<a.length;n++)r(n)})}}},i=c,u=a("2877"),l=Object(u["a"])(i,s,r,!1,null,"a0596bee",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d216ed9.58c9cbe3.js.map