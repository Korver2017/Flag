(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-337f0ba9"],{"02f4":function(t,e,n){var s=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,o,r=String(a(e)),l=s(n),c=r.length;return l<0||l>=c?t?"":void 0:(i=r.charCodeAt(l),i<55296||i>56319||l+1===c||(o=r.charCodeAt(l+1))<56320||o>57343?t?r.charAt(l):i:t?r.slice(l,l+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var s=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?s(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var s=n("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var s=n("2aba"),a=n("32e9"),i=n("79e5"),o=n("be13"),r=n("2b4c"),l=n("520a"),c=r("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var v=r(t),p=!i(function(){var e={};return e[v]=function(){return 7},7!=""[t](e)}),m=p?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[v](""),!e}):void 0;if(!p||!m||"replace"===t&&!u||"split"===t&&!d){var f=/./[v],b=n(o,v,""[t],function(t,e,n,s,a){return e.exec===l?p&&!a?{done:!0,value:f.call(e,n,s)}:{done:!0,value:t.call(n,e,s)}:{done:!1}}),g=b[0],h=b[1];s(String.prototype,t,g),a(RegExp.prototype,v,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var s=n("aae3"),a=n("cb7c"),i=n("ebd6"),o=n("0390"),r=n("9def"),l=n("5f1b"),c=n("520a"),u=n("79e5"),d=Math.min,v=[].push,p="split",m="length",f="lastIndex",b=4294967295,g=!u(function(){RegExp(b,"y")});n("214f")("split",2,function(t,e,n,u){var h;return h="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[m]||2!="ab"[p](/(?:ab)*/)[m]||4!="."[p](/(.?)(.?)/)[m]||"."[p](/()()/)[m]>1||""[p](/.?/)[m]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!s(t))return n.call(a,t,e);var i,o,r,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?b:e>>>0,g=new RegExp(t.source,u+"g");while(i=c.call(g,a)){if(o=g[f],o>d&&(l.push(a.slice(d,i.index)),i[m]>1&&i.index<a[m]&&v.apply(l,i.slice(1)),r=i[0][m],d=o,l[m]>=p))break;g[f]===i.index&&g[f]++}return d===a[m]?!r&&g.test("")||l.push(""):l.push(a.slice(d)),l[m]>p?l.slice(0,p):l}:"0"[p](void 0,0)[m]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,s){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a,s):h.call(String(a),n,s)},function(t,e){var s=u(h,t,this,e,h!==n);if(s.done)return s.value;var c=a(t),v=String(this),p=i(c,RegExp),m=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),C=new p(g?c:"^(?:"+c.source+")",f),_=void 0===e?b:e>>>0;if(0===_)return[];if(0===v.length)return null===l(C,v)?[v]:[];var x=0,w=0,y=[];while(w<v.length){C.lastIndex=g?w:0;var k,O=l(C,g?v:v.slice(w));if(null===O||(k=d(r(C.lastIndex+(g?0:w)),v.length))===x)w=o(v,w,m);else{if(y.push(v.slice(x,w)),y.length===_)return y;for(var E=1;E<=O.length-1;E++)if(y.push(O[E]),y.length===_)return y;w=x=k}}return y.push(v.slice(x)),y}]})},"520a":function(t,e,n){"use strict";var s=n("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,o=a,r="lastIndex",l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[r]||0!==e[r]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(o=function(t){var e,n,o,u,d=this;return c&&(n=new RegExp("^"+d.source+"$(?!\\s)",s.call(d))),l&&(e=d[r]),o=a.call(d,t),l&&o&&(d[r]=d.global?o.index+o[0].length:e),c&&o&&o.length>1&&i.call(o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},"5f1b":function(t,e,n){"use strict";var s=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"8aa0":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row my-4"},[n("div",{staticClass:"mb-0 d-flex align-items-center"},[n("h4",{staticClass:"text-left"},[n("router-link",{attrs:{to:{name:"organization"},tag:"a","active-class":"active"}},[n("a",[t._v(t._s(t.orgName))])]),t._v("\n        / "),n("router-link",{attrs:{to:{name:"project"},tag:"a","active-class":"active"}},[n("a",[t._v(t._s(t.proName))])])],1)]),t._m(0)]),n("ul",{staticClass:"nav nav-tabs"},[t._m(1),n("router-link",{staticClass:"nav-item",attrs:{to:{name:"project"},tag:"li","active-class":"active"}},[n("a",{staticClass:"nav-link active"},[t._v("問題 "),n("span",{staticClass:"ml-2 badge badge-secondary"},[t._v(t._s(t.issueCount))])])]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)],1)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ml-auto"},[n("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),t._v(" 取消關注\n        ")]),n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),t._v(" 8\n        ")])]),n("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),t._v(" 收藏\n        ")]),n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),t._v(" 0\n        ")])]),n("div",{staticClass:"pr-3 btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),t._v(" 複製\n        ")]),n("label",{staticClass:"border border-dark btn"},[n("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),t._v(" 0\n        ")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("程式碼")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("合併請求"),n("span",{staticClass:"ml-2 badge badge-secondary"},[t._v("0")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("版本發佈"),n("span",{staticClass:"ml-2 badge badge-secondary"},[t._v("0")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("Wiki")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("活動")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"ml-auto nav-item"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("儲存庫設定")])])}],i=(n("28a5"),n("bf48")),o=n.n(i),r={name:"sub-navbar",props:["issueCount"],data:function(){return{orgName:"",proName:"",proId:""}},created:function(){this.proId=this.$route.path.split("/")[2]},mounted:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var t=this,e=o.a.Object.extend("Project"),n=new o.a.Query(e);n.get(t.proId).then(function(e){t.proName=e.get("name"),t.orgName=e.get("orgName")},function(t){})}}},l=r,c=n("2877"),u=Object(c["a"])(l,s,a,!1,null,"14359efe",null);e["a"]=u.exports},9200:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-3",attrs:{id:"wrap"}},[n("sub-navbar",{attrs:{issueCount:t.issueCount}}),n("div",{staticClass:"row my-4 d-flex justify-content-between"},[n("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[n("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{name:"label-list"},tag:"button","active-class":"active"}},[t._v("\n        標籤\n      ")]),n("router-link",{staticClass:"btn btn-outline-secondary",attrs:{to:{name:"milestone"},tag:"button","active-class":"active"}},[t._v("\n        里程碑\n      ")])],1),n("div",[n("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"new-milestone"},tag:"button","active-class":"active"}},[t._v("\n        新的里程碑\n      ")])],1)]),n("hr"),n("state-counter",{attrs:{openedCount:t.mileOpened,closedCount:t.mileClosed,showOpened:t.showOpened},on:{changeState:t.updateState}}),n("div",{staticClass:"container my-4"},t._l(t.milestones,function(e,s){return n("ul",{staticClass:"list-group list-group-flush"},[!0===e.mileOpened&&!0===t.showOpened?n("li",{staticClass:"text-left list-group-item"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[t.milestones?n("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"milestone-detail",params:{mileId:e.mileId}},tag:"a","active-class":"active"}},[n("h3",{},[t._v(t._s(e.title))])]):t._e(),n("div",{staticClass:"row text-left"},[""!==t.milestones[s].dueDate?n("div",{staticClass:"mr-3"},[t._v(t._s(t.milestones[s].dueDate))]):t._e(),n("div",{staticClass:"mr-3"},[t._v(t._s(t.milestones[s].open)+" 個開啟中")]),n("div",{},[t._v(t._s(t.milestones[s].closed)+" 個已關閉")])])],1),n("div",{staticClass:"col-6"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar bg-success",style:{width:e.percentage+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}})]),n("div",{staticClass:"mt-2 text-right"},[n("router-link",{staticClass:"mr-3 btn btn-success",attrs:{to:{name:"edit-milestone",params:{mileId:t.milestones[s].mileId}},tag:"button","active-class":"active"}},[t._v("\n                編輯\n              ")]),!0===t.milestones[s].mileOpened&&!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-warning",on:{click:function(e){e.preventDefault(),t.closeMilestone(s)}}},[t._v("關閉")]):!1===t.milestones[s].mileOpened&&!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-primary",on:{click:function(e){e.preventDefault(),t.reopenMilestone(s)}}},[t._v("重新開啟")]):t._e(),!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-danger",on:{click:function(e){t.deleteMile(s)}}},[t._v("刪除")]):t._e()],1)])])]):t._e(),!1===e.mileOpened&&!1===t.showOpened?n("li",{staticClass:"py-5 text-left list-group-item"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[t.milestones?n("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"milestone-detail",params:{mileId:e.mileId}},tag:"a","active-class":"active"}},[n("h3",{},[t._v(t._s(e.title))])]):t._e(),n("div",{staticClass:"row text-left"},[""!==t.milestones[s].dueDate?n("div",{staticClass:"mr-3"},[t._v(t._s(t.milestones[s].dueDate))]):t._e(),n("div",{staticClass:"mr-3"},[t._v(t._s(t.milestones[s].open)+" 個開啟中")]),n("div",{},[t._v(t._s(t.milestones[s].closed)+" 個已關閉")])])],1),n("div",{staticClass:"col-6"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar bg-success",style:{width:e.percentage+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}})]),n("div",{staticClass:"mt-2 text-right"},[n("router-link",{staticClass:"mr-3 btn btn-success",attrs:{to:{name:"edit-milestone",params:{mileId:t.milestones[s].mileId}},tag:"button","active-class":"active"}},[t._v("\n                編輯\n              ")]),!0===t.milestones[s].mileOpened&&!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-warning",on:{click:function(e){e.preventDefault(),t.closeMilestone(s)}}},[t._v("關閉")]):!1===t.milestones[s].mileOpened&&!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-primary",on:{click:function(e){e.preventDefault(),t.reopenMilestone(s)}}},[t._v("重新開啟")]):t._e(),!1===t.milestones[s].mileEditing?n("button",{staticClass:"mr-3 btn btn-danger",on:{click:function(e){t.deleteMile(s)}}},[t._v("刪除")]):t._e()],1)])])]):t._e()])}),0)],1)},a=[],i=(n("7514"),n("28a5"),n("bf48")),o=n.n(i),r=n("d5cf"),l=n("8aa0"),c={name:"milestone",components:{stateCounter:r["a"],subNavbar:l["a"]},data:function(){return{proId:"",milestones:[],showOpened:!0,mileOpened:0,mileClosed:0,mileIssues:[],issueCount:""}},computed:{},created:function(){this.proId=this.$route.path.split("/")[2]},mounted:function(){this.showMile(),this.showIssueCount()},methods:{updateState:function(t){this.showOpened=t},showIssueCount:function(){var t=this,e=o.a.Object.extend("Issue"),n=new o.a.Query(e);n.equalTo("proId",t.proId),n.find().then(function(e){t.issueCount=e.length})},showMile:function(){var t=this,e=[],n=o.a.Object.extend("Milestone"),s=new o.a.Query(n);s.equalTo("proId",t.proId),s.find().then(function(n){t.mileOpened=0,t.mileClosed=0;for(var s=function(s){var a=n[s];a.get("mileOpened")?t.mileOpened+=1:t.mileClosed+=1;var i=o.a.Object.extend("Issue"),r=new o.a.Query(i),l={},c=0;l.title=a.get("title"),r.equalTo("milestone",a.id),r.find().then(function(n){for(var s=0;s<n.length;s++)!1===n[s].get("issueOpened")&&(c+=1);var i=n.length,o=c;l.mileId=a.id,l.dueDate=a.get("dueDate"),l.mileDesc=a.get("mileDesc"),l.mileOpened=a.get("mileOpened"),l.all=i,l.closed=o,l.open=i-o,l.percentage=0===i?0:(o/i*100).toFixed(0),l.titleEditing=!1,l.newTitle="",l.mileEditing=!1,e.push(l),t.milestones=e})},a=0;a<n.length;a++)s(a)})},closeMilestone:function(t){var e=this,n=o.a.Object.extend("Milestone"),s=new o.a.Query(n);s.get(e.milestones[t].mileId).then(function(t){t.set("mileOpened",!1),t.save().then(function(){e.showMile()})})},reopenMilestone:function(t){var e=this,n=o.a.Object.extend("Milestone"),s=new o.a.Query(n);s.get(e.milestones[t].mileId).then(function(t){t.set("mileOpened",!0),t.save().then(function(){e.showMile()})})},deleteMile:function(t){var e=this,n=e.milestones[t].mileId,s=o.a.Object.extend("Milestone"),a=new o.a.Query(s);a.get(n).then(function(t){confirm("確定要刪除此 Milestone 嗎？")&&t.destroy().then(function(t){e.showMile()},function(t){})})}}},u=c,d=n("2877"),v=Object(d["a"])(u,s,a,!1,null,"0cf2d58a",null);e["default"]=v.exports},aae3:function(t,e,n){var s=n("d3f4"),a=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},b0c5:function(t,e,n){"use strict";var s=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},d5cf:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-outline-secondary",class:{active:t.state},attrs:{type:"button"},on:{click:function(e){t.state=!0}}},[t._v("\n    "+t._s(t.openedCount)+" 個開啟中\n  ")]),n("button",{staticClass:"btn btn-outline-secondary",class:{active:!t.state},attrs:{type:"button"},on:{click:function(e){t.state=!1}}},[t._v("\n    "+t._s(t.closedCount)+" 個已關閉\n  ")])])},a=[],i={name:"state-counter",props:["openedCount","closedCount","showOpened"],data:function(){return{state:this.showOpened}},watch:{state:function(){this.$emit("changeState",this.state)}}},o=i,r=n("2877"),l=Object(r["a"])(o,s,a,!1,null,"1d7393cb",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-337f0ba9.3fbfc028.js.map